## 2. サービスの候補出し：ビジネスの「関心事」で分ける

それでは、定義された要件を元に、ドメイン駆動設計（DDD）の考え方を使って**サービスの候補出し**を行います。

---
## サービスの候補出し：ビジネスの「関心事」で分ける

ここでは、技術的な都合（「ユーザー認証は難しいから別にしよう」など）で分けるのではなく、あくまで**ビジネス上の「関心事」や「言葉の使われ方」**に注目して、サービスの境界線を探っていきます。DDDでいう**「境界づけられたコンテキスト」**を見つける作業です。

### 🌐 ステップ1：要件に出てくる「名詞」を洗い出す

まずは、要件定義の中から主要な名詞（ビジネスの概念）を抜き出してみましょう。

* **ユーザー**
* 名前
* メールアドレス
* プロフィール
* **記事**
* タイトル
* 本文
* **コメント**

### 🌐 ステップ2：「動詞」で名詞をグループ化する

次に、これらの名詞がどのような動詞（アクション）と結びついているかを見て、関心事が近いものをグループ化します。

* **「ユーザー」に関するアクション**
    * **会員登録**する (`ユーザー`, 名前, メールアドレス)
    * **プロフィールを編集**する (`ユーザー`, プロフィール)

* **「記事」に関するアクション**
    * **投稿**する (`記事`, タイトル, 本文)
    * **編集・削除**する (`記事`)
    * **一覧を閲覧**する (`記事`)
    * **閲覧**する (`記事`)

* **「コメント」に関するアクション**
    * **投稿**する (`コメント`)
    * **一覧を閲覧**する (`コメント`)

### 🌐 ステップ3：グループをサービスの候補とする

このグループ分けから、以下の3つのサービスが候補として浮かび上がってきます。それぞれのグループは、独立した関心事を持っているように見えます。

1.  **ユーザーサービス (User Service)**
    * **責務（案）**: ユーザーの登録、認証、プロフィール情報の管理。システム内の「人」に関するすべての責任を持つ。

2.  **記事サービス (Article Service)**
    * **責務（案）**: 記事の作成、編集、削除、取得。ブログの核となる「コンテンツ」に関するすべての責任を持つ。

3.  **コメントサービス (Comment Service)**
    * **責務（案）**: 記事に対するコメントの作成、取得。記事に付随する「インタラクション」に関するすべての責任を持つ。

### なぜこの分け方なのか？

この分け方は、各サービスが**独立して変更・進化できる可能性**を秘めています。

* 例えば、将来「ユーザーのプロフィール項目をもっと充実させたい」という変更があっても、それは**ユーザーサービス内だけの修正**で完結します。記事サービスやコメントサービスには何の影響もありません。
* 「記事に『いいね』機能を追加したい」という変更は、**記事サービス**が担当することになるでしょう。
* 「コメントに返信機能を追加したい」という変更は、**コメントサービス**が担当します。

このように、ビジネスの関心事でサービスを分割しておくことで、将来の変更が他のサービスに影響を与えにくくなり、**自律性**が保たれます。これがDDDの考え方をサービス分割に応用する最大のメリットです。

---

サービスの候補として、この**「ユーザー」「記事」「コメント」**の3つを軸に進めていきたいと思います。
