# 00 はじめに

# 📚 はじめに：図書館アプリが別の人が設計したら

この章では、図書館アプリを別の人が設計したらどうなるか？という視点で進めていきます。

## 🧭 フォルダ構成が変わります

   
### 📁 前回のフォルダ構成

前回は、クリーンアーキテクチャのクラス図と対比させながら設計をしていくことが前提だったので、フォルダ構成もクラス図に近いものでした。

```text
clean_architecture_library/
├─ core/
│   ├─ domain/
│   │   ├─ book.py
│   │   ├─ member.py
│   │   ├─ loan.py
│   │   ├─ repository.py
│   │   └─ errors.py
│   │
│   └─ usecase/
│       ├─ interactor/
│       │   └─ checkout_book.py
│       └─ boundary/
│           ├─ input_boundary.py
│           ├─ output_boundary.py
│           └─ dto.py
│
├─ interface_adapters/
│   ├─ controllers/
│   │   └─ book_controller.py
│   ├─ presenters/
│   │   └─ book_presenter.py
│   └─ views/
│       ├─ view_console.py
│       ├─ view_web.py
│       └─ view_gui.py
│
├─ infrastructure/
│   └─ repositories/
│       ├─ in_memory_book_repository.py
│       ├─ in_memory_member_repository.py
│       ├─ in_memory_loan_repository.py
│       └─ postgres_book_repository.py
│
└─ main.py
```

### 📁 今回のフォルダ構成

今回のフォルダ構成は少し配置が変わっていますが、クリーンアーキテクチャの本質はきちんと守っています。

```
project_root/
├── domain/
│   ├── book.py    ← Bookエンティティ
│   ├── member.py  ← Memberエンティティ
│   └── loan.py    ← Loanエンティティ
│
├── usecase/
│    ├── dto.py                          # InputData / OutputData（DS）
│    ├── boundaries/                     # Controller／Presenterとの契約（Input/OutputBoundary）
│    │   ├── register_book_boundary.py
│    │   └── register_member_boundary.py
│    ├── contracts/                      # Repository（Data Access Interface）
│    │   ├── book_repository.py
│    │   └── member_repository.py
│    ├── register_book.py                # UseCaseInteractor本体（Book）
│    └── register_member.py              # UseCaseInteractor本体（Member）
│
├── interface/                           # 第3章（そのまま）
│   ├── controller/
│   │   └── book_controller.py
│   ├── presenter/
│   │   └── book_presenter.py
│   └── gateway/
│       └── book_gateway.py               # Entity⇔行データの翻訳
│
├── infrastructure/                       # ★ この章
│   ├── web/
│   │   ├── server.py                     # 昔ながらのHTTPサーバ（受付役）
│   │   └── view_renderer.py              # HTMLテンプレート描画（View）
│   └── db/
│       ├── sqlite_conn.py                # SQLite接続とテーブル作成
│       └── book_data_access.py           # データアクセス実装（行データの出入）
└── main.py                               # 配線（Composition Root）
```

