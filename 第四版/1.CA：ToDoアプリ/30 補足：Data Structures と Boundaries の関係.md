# 30 è£œè¶³ï¼šData Structures ã¨ Boundaries ã®é–¢ä¿‚

## ðŸ’¡ Data Structures ã¨ Boundaries ã®é–¢ä¿‚

### âœ… å½¹å‰²ã®é•ã„

- **Data Structures (`data_structures.py`)**
    - ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’é‹ã¶ã€Œç®±ã€ã€‚
    - ä¾‹ï¼š`TodoInputData` ã¯ Controller â†’ Use Case ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã€‚
    - ä¾‹ï¼š`TodoOutputData` ã¯ Use Case â†’ Presenter ã®å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã€‚
    - **è²¬å‹™**ï¼šãƒ‡ãƒ¼ã‚¿ã‚’å®‰å…¨ã«é‹ã¶ã“ã¨ã ã‘ã€‚ãƒ­ã‚¸ãƒƒã‚¯ç¦æ­¢ã€‚
- **Boundaries (`boundaries.py`)**
    - ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®ã€Œå¥‘ç´„æ›¸ã€ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰ã€‚
    - ä¾‹ï¼š`TodoInputBoundary` ã¯ Controller ãŒ Use Case ã‚’å‘¼ã³å‡ºã™ãŸã‚ã®å¥‘ç´„ã€‚
    - ä¾‹ï¼š`TodoOutputBoundary` ã¯ Use Case ãŒ Presenter ã«çµæžœã‚’æ¸¡ã™ãŸã‚ã®å¥‘ç´„ã€‚
    - **è²¬å‹™**ï¼šãƒ¡ã‚½ãƒƒãƒ‰ã®ç½²åã ã‘ã‚’å®šç¾©ã€‚å®Ÿè£…ã¯æŒãŸãªã„ã€‚

---

### âœ… ãªãœåˆ†ã‘ã‚‹ã¹ãã‹ï¼Ÿ

1. **è²¬å‹™ã®é•ã„ãŒæ˜Žç¢º**
    - Data Structures â†’ ãƒ‡ãƒ¼ã‚¿ã®å½¢ã‚’ä¿è¨¼ã€‚
    - Boundaries â†’ æŒ¯ã‚‹èˆžã„ï¼ˆãƒ¡ã‚½ãƒƒãƒ‰å¥‘ç´„ï¼‰ã‚’ä¿è¨¼ã€‚
    â†’ ä¸¡è€…ã‚’åˆ†ã‘ã‚‹ã“ã¨ã§ã€Œä½•ã‚’æŽ¢ã™ã‹ã€ãŒæ˜Žç¢ºã«ãªã‚‹ã€‚
2. **å¤‰æ›´é »åº¦ã®é•ã„**
    - Data Structures â†’ UIã‚„è¡¨ç¤ºä»•æ§˜ã®å¤‰æ›´ã§å¤‰ã‚ã‚Šã‚„ã™ã„ã€‚
    - Boundaries â†’ Use Caseã®å¥‘ç´„ãªã®ã§æ¯”è¼ƒçš„å®‰å®šã€‚
    â†’ åˆ†ã‘ã‚‹ã“ã¨ã§ã€å¤‰æ›´ã®å½±éŸ¿ç¯„å›²ã‚’é™å®šã§ãã‚‹ã€‚
3. **ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§**
    - Data Structures â†’ å˜ä½“ãƒ†ã‚¹ãƒˆã§åž‹ã‚„ä¸å¤‰æ€§ã‚’ç¢ºèªã€‚
    - Boundaries â†’ ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‹ãŸã‚ã«åˆ©ç”¨ã€‚
    â†’ åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«ã™ã‚‹ã“ã¨ã§ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®è¦‹é€šã—ãŒè‰¯ããªã‚‹ã€‚

---

### âœ… ä¸¡è€…ã®é–¢ä¿‚ã‚’å›³ã§è¡¨ã™ã¨ï¼Ÿ

```
+-------------+        +----------------------+        +-------------+
| Controller  | -----> | TodoInputBoundary    | -----> |  Use Case   |
|             |        +----------------------+        | Interactor  |
|   (UIå±¤)    |             â†‘       |                  |             |
+-------------+             |       |                  +-------------+
                            |       |
                            |       v
                      +----------------------+
                      |  TodoInputData       |
                      |   (Data Structure)   |
                      +----------------------+

+-------------+        +-----------------------+       +-------------+
| Presenter   | <----- | TodoOutputBoundary    | <---- |  Use Case   |
|             |        +-----------------------+       | Interactor  |
|   (UIå±¤)    |             â†‘       |                  |             |
+-------------+             |       |                  +-------------+
                            |       v
                      +----------------------+
                      | TodoOutputData       |
                      |   (Data Structure)   |
                      +----------------------+

```

- *å¥‘ç´„ï¼ˆBoundariesï¼‰**ã¯ã€Œã©ã‚“ãªãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¹ã‚‹ã‹ã€ã‚’å®šç¾©ã€‚
- *ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆData Structuresï¼‰**ã¯ã€Œã©ã‚“ãªå½¢ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™ã‹ã€ã‚’å®šç¾©ã€‚

---

### âœ… å­¦ç¿’è€…ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

- **Boundaries ã¯ã€Œä¼šè©±ã®è¨€èªžã€**ã€Data Structures ã¯ã€Œä¼šè©±ã®å†…å®¹ã€ã€‚
- ä¸¡æ–¹ãŒæƒã£ã¦åˆã‚ã¦ã€ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®ã‚„ã‚Šå–ã‚ŠãŒå®‰å…¨ã§æ˜Žç¢ºã«ãªã‚‹ã€‚

---

### ðŸ” è£œè¶³ç« ã®æ§‹æˆæ¡ˆ

1. **ãªãœåˆ†ã‘ã‚‹ã®ã‹ï¼Ÿï¼ˆè²¬å‹™ãƒ»å¤‰æ›´é »åº¦ãƒ»ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ï¼‰**
2. **ä¸¡è€…ã®é–¢ä¿‚ã‚’å›³ã§ç¤ºã™**
3. **å®Ÿå‹™ã§ã®ãƒ¡ãƒªãƒƒãƒˆï¼ˆæŸ”è»Ÿæ€§ãƒ»ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ãƒ»ä¿å®ˆæ€§ï¼‰**
4. **ã‚ˆãã‚ã‚‹é–“é•ã„ï¼ˆDTOã«ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã€Boundaryã«å…·ä½“å®Ÿè£…ã‚’æ›¸ãï¼‰**

## ðŸ” Interfaceã€Boundaryã€Contract ãªã©ã®ç”¨èªžã®é•ã„ã¯ï¼Ÿ

- **Interface** ã¨ **Contract** ã¯æœ¬è³ªçš„ã«åŒã˜æ¦‚å¿µã§ã™ã€‚
    
    â†’ ã€Œã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¶ãªã‚‰ã€ã“ã®å¼•æ•°ã¨æˆ»ã‚Šå€¤ã§ã€ã¨ã„ã†ç´„æŸã‚’å®šç¾©ã™ã‚‹ã‚‚ã®ã€‚
    
    â†’ è¨€èªžä»•æ§˜ã§ã¯ã€ŒInterfaceã€ã¨ã„ã†è¨€è‘‰ã‚’ä½¿ã†ã“ã¨ãŒå¤šã„ã§ã™ãŒã€æ¦‚å¿µçš„ã«ã¯ã€ŒContractï¼ˆå¥‘ç´„ï¼‰ã€ã¨åŒç¾©ã§ã™ã€‚
    
- **Boundary** ã¯ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç‰¹æœ‰ã®è¨€è‘‰ã§ã€
    
    â†’ ã€Œãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®å¢ƒç•Œã€ã‚’å¼·èª¿ã™ã‚‹ãŸã‚ã«ä½¿ã‚ã‚Œã¾ã™ã€‚
    
    â†’ Input Boundaryï¼ˆControllerâ†’Use Caseï¼‰ã€Output Boundaryï¼ˆUse Caseâ†’Presenterï¼‰ãªã©ã€**ã©ã®æ–¹å‘ã®å¢ƒç•Œã‹**ã‚’æ˜Žç¤ºã™ã‚‹ã®ãŒç‰¹å¾´ã€‚
    

ã¨ã¦ã‚‚é‹­ã„è³ªå•ã§ã™ï¼ã“ã®é•ã„ã¯ã€**ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ–‡è„ˆã§ã®ç”¨èªžã®ä½¿ã„åˆ†ã‘**ã«é–¢ä¿‚ã—ã¾ã™ã€‚

---

## ðŸ’¡ ãªãœ Input Boundary ã¨ Output Boundary ã¯ã€ŒBoundaryã€ã§ã€Data Access Interface ã¯ã€ŒInterfaceã€ãªã®ã‹ï¼Ÿ

![ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](../ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»ã‚¯ãƒ©ã‚¹å›³.png)

### 1. **Boundary ã¯ã€Œãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®å¢ƒç•Œã€ã‚’å¼·èª¿ã™ã‚‹è¨€è‘‰**

- Input Boundary â†’ **Controller â†’ Use Case** ã®å¢ƒç•Œ
- Output Boundary â†’ **Use Case â†’ Presenter** ã®å¢ƒç•Œ
- ã“ã‚Œã‚‰ã¯ã€Œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å†…å´ï¼ˆUse Caseï¼‰ã¨å¤–å´ï¼ˆUIå±¤ï¼‰ã‚’åˆ†ã‘ã‚‹å£ã€ãªã®ã§ã€**Boundaryã¨ã„ã†åå‰ã§ã€Œå¢ƒç•Œã€ã‚’æ˜Žç¤º**ã—ã¾ã™ã€‚

ðŸ’¡ **ãƒã‚¤ãƒ³ãƒˆ**

Boundaryã¯ã€Œã©ã®æ–¹å‘ã®å¢ƒç•Œã‹ã€ã‚’åå‰ã§ç¤ºã™ï¼ˆInput/Outputï¼‰ã€‚

â†’ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç‰¹å¾´çš„ãªå‘½åã€‚

---

### 2. **Data Access Interface ã¯ã€Œå¢ƒç•Œã€ã§ã¯ãªãã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®æŽ¥ç¶šå¥‘ç´„**

- Use Case â†’ Repositoryï¼ˆãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
ã“ã“ã¯ã€Œãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®å¢ƒç•Œã€ã¨ã„ã†ã‚ˆã‚Šã€**å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã¨ã®æŽ¥ç¶šçª“å£**ã§ã™ã€‚
- ãã®ãŸã‚ã€ä¸€èˆ¬çš„ãªã€ŒInterfaceã€ã¨ã„ã†åå‰ã§ååˆ†ã€‚
â†’ ã€Œå¥‘ç´„ã€ã§ã¯ã‚ã‚‹ãŒã€Input/Outputã®ã‚ˆã†ãªæ–¹å‘æ€§ã¯ä¸è¦ã€‚

ðŸ’¡ **ãƒã‚¤ãƒ³ãƒˆ**

Repositoryã¯å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ï¼ˆDBï¼‰ã¨ã®ã‚„ã‚Šå–ã‚Šãªã®ã§ã€**Boundaryã¨ã„ã†ã‚ˆã‚Šæ±Žç”¨çš„ãªInterface**ã€‚

---

### âœ… å‘½åã®åˆ‡ã‚Šåˆ†ã‘ãƒ«ãƒ¼ãƒ«ï¼ˆã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æµï¼‰

- **Boundary**
    - ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®å¢ƒç•Œã‚’è¡¨ã™
    - Input/Outputãªã©ã€æ–¹å‘æ€§ã‚’åå‰ã§ç¤ºã™
    - ä¸»ã«UIå±¤ã¨Use Caseå±¤ã®é–“ã§ä½¿ã†
- **Interface**
    - å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‚„æŠ€è¡“çš„è©³ç´°ã¨ã®æŽ¥ç¶šå¥‘ç´„
    - DBã€APIã€å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©
    - åå‰ã¯ã€Œã€‡ã€‡Interfaceã€ã§OK

---

### âœ… å­¦ç¿’è€…ã¸ã®ã¾ã¨ã‚

- **Boundary = ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®å¢ƒç•Œã‚’æ˜Žç¤ºã™ã‚‹å¥‘ç´„**
â†’ Input/Outputã§æ–¹å‘æ€§ã‚’ç¤ºã™
- **Interface = å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã¨ã®æŽ¥ç¶šå¥‘ç´„**
â†’ DBã‚„APIãªã©æŠ€è¡“çš„è©³ç´°ã«ä¾å­˜ã—ãªã„æŠ½è±¡åŒ–

## ðŸ’¡ ã‚¯ãƒ©ã‚¹å›³ã®äºŒé‡ç·šã¨å„å±¤ã®æ„å‘³

- **å³ä¸Šï¼šEnterprise Business Rules**
    - ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ï¼ˆEntityï¼‰ã‚’å«ã‚€æœ€ã‚‚å†…å´ã®å±¤ã€‚
    - ãƒ“ã‚¸ãƒã‚¹ã®æ™®éçš„ãªãƒ«ãƒ¼ãƒ«ã‚’å®šç¾©ã€‚
- **ãã®å¤–å´ï¼šApplication Business Rules**
    - Use Caseå±¤ï¼ˆInteractorï¼‰ã€‚
    - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å›ºæœ‰ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®šç¾©ã€‚
- **å³å´ï¼šInterface Adapters**
    - UIå±¤ï¼ˆControllerã€Presenterï¼‰ã‚„DBã‚¢ã‚¯ã‚»ã‚¹å±¤ï¼ˆRepositoryï¼‰ã€‚
    - å†…å´ã®ãƒ«ãƒ¼ãƒ«ã‚’å¤–å´ã®ä¸–ç•Œã«é©å¿œã•ã›ã‚‹å½¹å‰²ã€‚
- **ä¸‹å´ï¼šFramework & Drivers**
    - Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€DBã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ãªã©æŠ€è¡“çš„è©³ç´°ã€‚

---

### âœ… Boundaryã¨Interfaceã®é•ã„ï¼ˆå‘½åã®ç†ç”±ï¼‰

- **Input Boundary / Output Boundary**
    - **Interface Adapterså±¤ã¨Application Business Ruleså±¤ã®å¢ƒç•Œ**ã‚’è¡¨ã™ã€‚
    - Controller â†’ Use Caseï¼ˆInputï¼‰ã€Use Case â†’ Presenterï¼ˆOutputï¼‰ã€‚
    - ã€Œãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®å¢ƒç•Œã€ã‚’å¼·èª¿ã™ã‚‹ãŸã‚ã«**Boundary**ã¨ã„ã†åå‰ã€‚
- **Data Access Interface**
    - **Application Business Ruleså±¤ã¨Framework & Driverså±¤ã®å¢ƒç•Œ**ã‚’è¡¨ã™ã€‚
    - Use Case â†’ Repositoryï¼ˆDBã‚¢ã‚¯ã‚»ã‚¹ï¼‰ã€‚
    - æŠ€è¡“çš„è©³ç´°ã¨ã®æŽ¥ç¶šå¥‘ç´„ãªã®ã§ã€ä¸€èˆ¬çš„ãª**Interface**ã¨ã„ã†åå‰ã€‚

---

### âœ… å‘½åãƒ«ãƒ¼ãƒ«ã¾ã¨ã‚

- **Boundary** â†’ ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®å¢ƒç•Œï¼ˆUIã¨Use Caseãªã©ï¼‰ã€‚
- **Interface** â†’ å¤–éƒ¨æŠ€è¡“ã¨ã®æŽ¥ç¶šå¥‘ç´„ï¼ˆDBã€APIãªã©ï¼‰ã€‚

---

ðŸ’¡ **å­¦ç¿’è€…ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**

- Boundaryã¯ã€ŒUIã¨Use Caseã®å¢ƒç•Œã€ãªã®ã§æ–¹å‘æ€§ã‚’åå‰ã§ç¤ºã™ã€‚
- Interfaceã¯ã€ŒæŠ€è¡“çš„è©³ç´°ã¨ã®å¥‘ç´„ã€ãªã®ã§æ±Žç”¨çš„ãªåå‰ã§OKã€‚

---

## ðŸ’¡ ãªãœåŒå¿ƒå††å›³ã« Input Boundary ãŒæ›¸ã‹ã‚Œã¦ã„ãªã„ã®ã‹ï¼Ÿ

### 1. **åŒå¿ƒå††å›³ã¯ã€Œä¾å­˜é–¢ä¿‚ã®ãƒ«ãƒ¼ãƒ«ã€ã‚’ç¤ºã™å›³**

- åŒå¿ƒå††å›³ã¯ã€**ã©ã®å±¤ãŒã©ã®å±¤ã«ä¾å­˜ã—ã¦ã‚ˆã„ã‹**ã¨ã„ã†åŽŸå‰‡ã‚’ç¤ºã™ãŸã‚ã®æŠ½è±¡çš„ãªå›³ã§ã™ã€‚
- å†…å´ã‹ã‚‰å¤–å´ã¸å‘ã‹ã†ä¾å­˜ã¯NGã€å¤–å´ã‹ã‚‰å†…å´ã¸ã®ä¾å­˜ã¯OKã¨ã„ã†ã€Œä¾å­˜æ€§ã®æ–¹å‘ã€ã‚’å¼·èª¿ã—ã¾ã™ã€‚
- ãã®ãŸã‚ã€**å…·ä½“çš„ãªã‚¯ãƒ©ã‚¹ã‚„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®åå‰ã¯è¼‰ã›ãªã„**ã®ãŒåŸºæœ¬ã€‚

---

### 2. **Input Boundary ã¯ã€Œã‚¯ãƒ©ã‚¹å›³ã€ã§å…·ä½“åŒ–ã•ã‚Œã‚‹è¦ç´ **

- ã‚¯ãƒ©ã‚¹å›³ã¯ã€åŒå¿ƒå††å›³ã®åŽŸå‰‡ã‚’å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰æ§‹é€ ã«è½ã¨ã—è¾¼ã‚“ã ã‚‚ã®ã€‚
- Input Boundary ã¯ Use Caseå±¤ã«å±žã—ã€Controllerï¼ˆUIå±¤ï¼‰ã¨ã®å¢ƒç•Œã‚’å®šç¾©ã™ã‚‹å¥‘ç´„ã€‚
- åŒå¿ƒå††å›³ã§ã¯ã€ŒApplication Business Rulesã€å±¤ã«å«ã¾ã‚Œã‚‹æ¦‚å¿µã§ã™ãŒã€åå‰ã¯è¼‰ã›ãšã€**ã€Œã“ã®å±¤ã¯å¤–å´ã¨ã‚„ã‚Šå–ã‚Šã™ã‚‹ãŸã‚ã«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æŒã¤ã€**ã¨ã„ã†æŠ½è±¡çš„ãªæ„å‘³ã ã‘ç¤ºã—ã¦ã„ã¾ã™ã€‚

---

### âœ… æ‰€å±žã®ç¢ºèª

- **Input Boundary / Output Boundary** â†’ **Use Caseå±¤ï¼ˆApplication Business Rulesï¼‰**
- **Data Access Interface** â†’ **Use Caseå±¤ï¼ˆApplication Business Rulesï¼‰**
    - ãŸã ã—ã€å¤–å´ã® Framework & Drivers ã¨æŽ¥ç¶šã™ã‚‹ãŸã‚ã®å¥‘ç´„ã€‚

---

### âœ… å­¦ç¿’è€…ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

- **åŒå¿ƒå††å›³ã¯æŠ½è±¡çš„ãªä¾å­˜ãƒ«ãƒ¼ãƒ«ã‚’ç¤ºã™** â†’ åå‰ã¯è¼‰ã›ãªã„ã€‚
- **ã‚¯ãƒ©ã‚¹å›³ã¯å…·ä½“çš„ãªæ§‹é€ ã‚’ç¤ºã™** â†’ Input Boundaryãªã©ãŒç™»å ´ã™ã‚‹ã€‚
- æ‰€å±žã¯ã€ŒUse Caseå±¤ã€ã§é–“é•ã„ãªã„ã€‚