## 「監視用HDDレコーダー」の仕様を以下にまとめます。

### 監視用HDDレコーダーの仕様まとめ

#### 1. 基本ハードウェア仕様
* **カメラ接続**: 最大**16台**までの有線カメラ接続に対応。
* **モニター表示**: **1, 4, 9, 16分割**での画面表示が可能。
* **操作パネル**: 再生、カメラ切替、画面分割切替、メニュー、戻る、上下左右の物理ボタンを備える。
* **外部インターフェース**: カメラ入力x16、モニター出力x2、緊急アラーム入力x1。

---
#### 2. 録画機能とルール
* **基本ルール**:
    * 録画データは、管理しやすい短い時間単位の**セグメント（チャンク）**として保存される。
    * HDDの容量が満杯になった場合、保護されていない最も古いセグメントから順に**上書き**して録画を継続する（ループ録画）。

* **通常録画**:
    * カメラごとに設定された**タイマースケジュール**に基づいて録画を実行する。

* **アラーム録画（人物検知など）**:
    * イベント検知をトリガーとして録画を開始する。
    * 通常録画とは別の**解像度・記録枚数**をアラーム用に設定可能。
    * イベント発生時をまたいで録画する**プリ録画**（5秒 or 10秒）および**アフター録画**（10, 20, 30秒）に対応。
    * 録画データは「アラーム録画」として、後から検索できる。
    * この録画データは、HDDのループ録画時に**上書き消去の対象**となる。

* **緊急アラーム録画（物理ボタン押下）**:
    * 専用の物理ボタン押下をトリガーとして録画を開始する。
    * HDD内に確保された**保護領域**（全体の0%, 10%, 20%で設定可能）に保存される。
    * この録画データは、ユーザーによる**明確な削除指示があるまで上書き・消去されない**。
    * 保護領域が満杯になった場合、**新しい緊急録画は失敗し、エラーとして通知**される。

---
#### 3. 再生・検索機能
* **再生操作**: **再生、早送り、巻き戻し、コマ送り**に対応。
* **検索方法**: **日時を指定しての検索**と、**アラーム録画の一覧からの検索**に対応。

---
#### 4. 設定項目
* **カメラごと**:
    * **解像度**: 「低・中・高」の3種類。
    * **記録枚数**: 「30, 20, 10, 5, 1 fps」の5種類。
* **タイマー予約**: カメラごとにON/OFFのスケジュールを設定可能。
* **ストレージ**: 緊急録画領域の割合を設定可能。

---
#### 5. 今回のプロジェクトで簡略化する項目
* ネットワーク経由での外部からの映像閲覧機能。
* 画像コーデックハードウェアに起因する、解像度と記録枚数の組み合わせ制限。

