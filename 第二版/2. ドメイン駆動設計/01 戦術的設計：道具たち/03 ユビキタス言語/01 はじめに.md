## はじめに：複雑なシステムの分割という「難しい問題」



ソフトウェア開発で私たちが直面する最初の、そして最も難しい問題の一つが、「**複雑なシステム全体を、将来にわたって保守しやすく、拡張しやすいように、どう分割すればよいか？**」という問いです。

ホテル予約システムを例にとると、予約、顧客管理、決済といった機能が複雑に絡み合っており、どこに境界線を引けばよいか、いきなり考えるのは非常に困難です。

## アプローチの転換：「言葉」を手がかりに「切れ目」を見つける

そこでドメイン駆動設計（DDD）の**戦略的設計**では、この難しい問題を直接解こうとせず、アプローチを変えます。システムの構造ではなく、**ビジネスの現場で使われている「言葉」**に注目するのです。

> **😊 私たちが取り組む、より簡単な問題：**
> 「ホテルの現場では、どんな**言葉**が使われているだろう？そして、どの言葉が、会話の中で**一緒に出てくることが多い**だろうか？」

この「言葉」こそが、システムの自然な「切れ目」を見つけ出すための、客観的で強力な手がかり（分析材料）となります。

---
### ステップ1：分析の材料となる「言葉」を集める

まずは、ホテルの業務で使われる言葉をリストアップします。これが、チームの共通言語となる**ユビキタス言語**の辞書作りの第一歩です。

**📝 ユビキタス言語 候補リスト**
* 予約 (Reservation)
* 宿泊期間 (Stay Period)
* 料金 (Rate)
* 顧客 (Customer)
* 宿泊客 (Guest)
* 支払い (Payment)
* 客室タイプ (Room Type)
* 請求情報 (Invoice)
* 連絡先 (Contact Info)

---
### ステップ2：「言葉のグループ」から「切れ目」のヒントを得る

次に、これらの言葉が会話の中でどのように使われるかを基準に、関連性の強いグループに分けます。

* **グループA（予約の文脈）**:
    * 「**予約**」の話では、必ず「**宿泊期間**」「**客室タイプ**」「**料金**」がセットで語られる。
* **グループB（顧客の文脈）**:
    * 「**顧客**」情報には、「**宿泊客**」としての履歴や「**連絡先**」が常に紐づいてくる。
* **グループC（支払いの文脈）**:
    * 「**支払い**」の話題では、「**請求情報**」やカード情報といった専門用語が使われる。



この言語的なグループ分けが、システムの分割単位を決めるための**客観的なヒント**となります。

---
### ステップ3：ヒントを元にシステムを分割する

最後に、この「言葉のグループ」を、そのままシステムの分割単位（＝**境界づけられたコンテキスト**）の候補とします。

* **グループA** → **予約コンテキスト**
* **グループB** → **顧客管理コンテキスト**
* **グループC** → **決済コンテキスト**

このアプローチの最大のメリットは、開発者の主観や勘に頼るのではなく、**ビジネスで実際に使われている「言葉」という客観的な事実に基づいて、システムの構造を決定できる**点にあります。

---
### 補足：副次的なメリットとしての「共通辞書」

そして、この分割作業の副産物として、作成した言葉のリストが**チームの共通辞書**としての役割も果たします。チーム内の会話で使う言葉とコード上のクラス名などが一致し、コミュニケーションがスムーズになるという二次的なメリットも得られます。