# OOP-06

## SOLID原則の解決

この「ダウンロード商品への対応」を行ったことで、このプログラムは**SOLID原則の5つすべてを高いレベルで満たす、非常に優れたオブジェクト指向設計**になりました。

以前の評価で「半分だけ適用」や「まだ問われていない」とされた部分が、今回の変更によって完全に解決されています。

---

### S: 単一責任の原則 (Single Responsibility Principle)

- **評価: 適用済み**
- **理由**: 変更ありません。`Store`は店舗のフロー、`PhysicalProduct`は物理商品のルール、そして新しく追加された`DigitalProduct`はダウンロード商品のルール、とそれぞれが単一の責任を担っています。

---

### O: オープン・クローズドの原則 (Open/Closed Principle)

- **評価: 完全に適用済み（今回の変更の最大の成果）**
- **理由**: 以前は「新しい**種類**の商品を追加する際に`Product`クラスの修正が必要」という問題がありましたが、完全に解決されました。`DigitalProduct`という新しいビジネス要件（拡張）に対して、既存の`Store`クラスのコードは**一切修正されていません**。まさに「拡張に対して開き、修正に対して閉じて」います。

---

### L: リスコフの置換原則 (Liskov Substitution Principle)

- **評価: 完全に適用済み**
- **理由**: 以前は継承がなかったため問われていませんでしたが、今回その重要性が明確になりました。`Store`クラスは`Product`型のオブジェクトを期待していますが、そこに子クラスである`PhysicalProduct`や`DigitalProduct`を渡しても、プログラムは全く問題なく動作します。これは、両方の子クラスが親クラス（`Product` ABC）の「契約」をきちんと守って実装されているためです。

---

### I: インターフェース分離の原則 (Interface Segregation Principle)

- **評価: 適用済み**
- **理由**: `Product`というインターフェースは、「商品」として必要な責務に特化しており、`Store`クラスはそれを余すことなく利用しています。不要なメソッドを強制するような「太ったインターフェース」にはなっていません。

---

### D: 依存性逆転の原則 (Dependency Inversion Principle)

- **評価: 完全に適用済み**
- **理由**: 前回の地盤固めがここで活きています。上位モジュールである`Store`クラスは、`PhysicalProduct`や`DigitalProduct`といった具体的な下位モジュールに依存していません。両者とも、`Product`という**抽象**に依存しています。これにより、`Store`クラスを変更することなく、新しい種類の商品を安全に追加することができました。

---

### 結論

この一連のリファクタリング（抽象の導入→継承とポリモーフィズムの活用）によって、私たちのプログラムは単に動くだけでなく、**将来のビジネス要件の変更に対して、非常に柔軟かつ堅牢な構造**を手に入れました。

これこそが、SOLID原則に即したオブジェクト指向設計がもたらす、最大の価値なのです。